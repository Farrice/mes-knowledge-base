# üõ°Ô∏è Quality Assurance Directive: Anti-Patterns & Mandates

> **Purpose**: This directive codifies lessons from the 2026-02-05 failure analysis. It is a PERMANENT reference that prevents known failure modes in all future work.

---

## üî¥ ANTI-PATTERNS (Never Do These)

### Anti-Pattern 1: "Template Slop"
**Definition**: Generating output by filling in templates without grounding in real data.

**Symptoms**:
- Python scripts using `random.randint()` or hardcoded values to simulate "intelligence"
- Keyword lists generated by concatenating strings (e.g., `f"Best {niche} for beginners"`)
- CPC, traffic, or difficulty numbers that aren't sourced from a real API or search

**Examples of Template Slop**:
```python
# ‚ùå BAD: This produces nonsense for demographics
keywords = [f"Buy {niche} online", f"Best {niche} for beginners"]

# ‚ùå BAD: This is not data, it's fiction
velocity_score = random.randint(60, 95)
```

**The Fix**: All intelligence-generating tools MUST use Agentic Research (live `search_web`, source citations).

---

### Anti-Pattern 2: "Entity Blindness"
**Definition**: Treating all inputs the same without understanding what TYPE of thing it is.

**Symptoms**:
- Generating product keywords for a demographic (e.g., "First Time Home Buyers")
- Generating service keywords for a policy (e.g., "CalHFA Dream For All")
- Using the same template logic for wildly different entities

**Entity Classification Checklist**:
| Entity Type | Example | Correct Approach |
| :--- | :--- | :--- |
| **Product** | "iPhone 16" | Feature/benefit keywords, vs competitors |
| **Service** | "Emergency Plumber" | Local modifiers, response time, trust signals |
| **Demographic** | "First Time Home Buyers" | Programs/assistance that SERVE them |
| **Program** | "CalHFA Dream For All" | Eligibility, dates, application process |
| **Location** | "SoCal" | Geographic specifics, neighborhood guides |

**The Fix**: ALWAYS classify the input entity BEFORE generating any output.

---

### Anti-Pattern 3: "Speed Without Validation"
**Definition**: Moving fast without checking if the output makes sense.

**Symptoms**:
- Delivering output without cross-checking against a trusted source
- Not asking "Does this make logical sense?" before presenting to user
- Treating any generated output as "done" without human review

**The Fix**: For any intelligence output:
1. Cross-check key claims against Perplexity, Google, or official sources
2. Ask: "Would an expert in this field find this embarrassing?"
3. Cite sources for all factual claims

---

## üü¢ MANDATES (Always Do These)

### Mandate 1: Entity Understanding First
Before ANY research or generation, classify the input:
```
INPUT: "[User's niche/topic]"
ENTITY TYPE: [Product | Service | Demographic | Program | Location | Concept]
SUB-ENTITIES: [List any nested entities]
```

### Mandate 2: Agentic Research for Intelligence
All workflows that generate "intelligence" (trends, keywords, strategies, briefs) MUST:
1. Use `search_web` for live data
2. Cite sources for all claims
3. NOT use hardcoded templates for the core output

### Mandate 3: Pre-Flight Validation for Raw Intent
When the user provides a rough concept or early-stage idea:
1. **STOP** before building anything
2. **Present Variations**: Show 2-3 interpretations of their intent
3. **Clarify**: Ask which variation matches their vision
4. **Then Execute**: Build only after alignment is confirmed

### Mandate 4: Post-Delivery Verification
For any deliverable that claims factual accuracy:
1. Spot-check 2-3 claims against external sources
2. Note any claims that could NOT be verified
3. Mark confidence level: üü¢ Verified / üü° Plausible / üî¥ Unverified

---

## üìä Failure Mode Reference

| Failure Mode | Probability if Ignored | Mitigation |
| :--- | :--- | :--- |
| Template Slop | HIGH | Agentic Research Mandate |
| Entity Blindness | MEDIUM | Entity Classification Checklist |
| Speed Without Validation | MEDIUM | Post-Delivery Verification |
| User Intent Mismatch | HIGH | Pre-Flight Validation |

---

*Last Updated: 2026-02-05 | Triggered by: Strategy Brief QA Failure*
